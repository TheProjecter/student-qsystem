<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!-- Document Header and CSS Styles -->
<head>
    <title>QSystem Readme</title> <style type="text/css">
/*<![CDATA[*/
        <!--
        a:link
        {
          color: #009;
        }
    
        a:visited
        {
          color: #060;
        }
    
        body
        {
            background: #F7F7F7;
            color: black;
        }
    
        h1
        {
            font-family: "helvetica neue", sans-serif;
            font-size: 18pt;
            font-style: oblique;
            font-variant: normal;
            font-weight: bold;
        }
    
        h2
        {
            font-family: "helvetica neue", sans-serif;
            font-size: 16pt;
            font-style: oblique;
            font-variant: normal;
            font-weight: bold;
        }
        
        ul, ul li {
            list-style-type: circle;
        }
        -->
/*]]>*/
</style> 
</head>
<!-- Document Content -->
<body>
<h1>QSystem Readme Page</h1> 
<hr />
<!-- Installation -->
<h2>Installation</h2> 
<p>
    The installation instructions already assume that the following are installed and are accessible from your path:
</p>
<ul>
    <li>
        An answer set solver (currently clasp, dlv, and smodels are supported).
    </li>
    <li>
        A Python interpreter (version 2.5 and greater).
    </li>
    <li>
        A Prolog interpreter (currently the system has been tested with Sicstus and SWI).
    </li>
</ul>
<p>
    Once the file qsystem.zip has been downloaded, extract the files to some directory on your path (normally somewhere in your home directory). Next, create an environment variable <code>'QSYSTEM'</code> which points to this directory. On UNIX system (and on Mac OS X) if you are using the Bourne shell (bash) this can be done as by adding the following line to the file <code>.profile</code> in the root of my home directory (assuming that I extracted qsystem to the directory <code>$HOME/Scripts/qsystem</code>):
</p>
<pre>
    <code>
    export QSYSTEM=$HOME/Scripts/qsystem
    </code>
</pre>
<p>
Lastly make sure that the files qsystem.py, qprep.py, and patoms.py are executable on your system. On Unix based systems this is done as follows:
</p>
<pre>
    <code>
    bash$ chmod a+x qsystem.py
    bash$ chmod a+x qprep.py
    bash$ chmod a+x patoms.py
    </code>
</pre><!-- Usage -->
<h2>Usage</h2> 
<p>
    QSystem is designed as a command-line application and may be run as follows:
</p>
<pre>
    <code>qsystem.py --prolog=swi --solver=clasp --file=sample.lp</code> 
</pre> 
<p>
    QSystem is defined with the following command-line options:
</p>
<table border="1" cellpadding="5" summary="argument descriptions">
    <tr>
        <td><pre><code>-h, --help</code></pre></td>
        <td><em>Show a help message and exit.</em></td>
    </tr>
    <tr>
        <td><pre><code>-p PROLOG, --prolog=PROLOG</code></pre></td>
        <td><em>Specify the Prolog interpreter to use (defaults to sicstus).</em> Currently the supported Prolog interpreters are SWI-Prolog and Sicstus.</td>
    </tr>
    <tr>
        <td><pre><code>-s SOLVER, --solver=SOLVER</code></pre></td>
        <td><em>Specify the answer-set solver to use (defaults to dlv).</em> Currently the supported solvers are dlv, smodels, and clasp.</td>
    </tr>
    <tr>
        <td><pre><code>-f FILE, --file=FILE</code></pre></td>
        <td><em>Specify the name of the logic program to use as a knowledge base.</em></td>
    </tr>
</table>
<!-- Queries -->
<h2>Queries</h2> 
<p>
    Suppose that we have the following logic program <code>test.lp</code>:
</p>
<pre>
    <code>
        p | -p :- x.
        x.
        a :- x.
        -b :- x.
    </code>
</pre> 
<p>
    To query this program we invoke QSystem using the answer set solver DLV and the Sicstus Prolog system (make sure that you are calling the system from the directory in which qsystem has been installed):
</p>
<pre>
    <code>
        bash$ qsystem --file=test.lp --solver=dlv --prolog=sic
        SICStus 4.0.4 (i386-darwin-8.11.1): Mon Jun 16 23:58:41 CEST 2008
        Licensed to SP4ttu.edu
        % compiling /Users/gregory/Documents/Projects/Query Answering/general_queries.pl...
        %  compiling /Users/gregory/Documents/Projects/Query Answering/query_utilities.pl...
        %   module query_utilities imported into user
        %  compiled /Users/gregory/Documents/Projects/Query Answering/query_utilities.pl in module query_utilities, 0 msec 1024 bytes
        % compiled /Users/gregory/Documents/Projects/Query Answering/general_queries.pl in module user, 10 msec 3688 bytes
        % compiling /Users/gregory/Documents/Projects/Query Answering/qsystem_data.pl...
        % compiled /Users/gregory/Documents/Projects/Query Answering/qsystem_data.pl in module user, 0 msec 256 bytes
        | ?-
    </code>
</pre> 
<p>
    QSystem loads a number of related modules and brings the user to a standard Prolog prompt. At the prompt the user may ask any defined Prolog query. The remainder of this readme focuses solely on those queries defined by QSystem.
</p>
<p>
    QSystem provides a single set of queries of the form <code>query(Term, Result)</code>. To check whether or not the term <code>x</code> is positively entailed by our logic program, we use the following query:
</p>
<pre>
    <code>
        | ?- query(x, yes).
        yes
    </code>
</pre> 
<p>
    To check if <code>b</code> is negatively entailed we ask the following query:
</p>
<pre>
    <code>
        | ?- query(b, no).
        yes
    </code>
</pre> 
<p>
    As <code>p</code> is neither positively nor negatively entailed, the following query returns <code>maybe</code>:
</p>
<pre>
    <code>
        | ?- query(p, X).
        X = maybe
    </code>
</pre> 
<p>
    Furthermore, to find the set of all terms which are positively entailed by our logic program we use the following query:
</p>
<pre>
    <code>
        | ?- setof(X, query(X,yes), Z).
        Z = [a,x]
    </code>
</pre> 
<p>
    In short, <code>query(Term, Result)</code> is defined as follows:
</p>
<ul>
    <li>
        If the term is positively entailed, <code>Result = yes</code>.
    </li>
    <li>
        If the term is negatively entailed, <code>Result = no</code>.
    </li>
    <li>
        If the term is neither positively nor negatively entailed, <code>Result = maybe</code>.
    </li>
</ul>
<p>
    As in all Prolog systems, the query need not be entered in ground form.
</p>
<p>
    Lastly, to exit the system use the standard Prolog command <code>halt.</code>
</p>
</body>
</html>
